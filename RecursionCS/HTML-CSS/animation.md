# CSS の適用法

- 一般的な方法は、HTML の head タグ内に link タグを置くこと。

## セレクタと宣言

- CSS はウェブページのスタイルを制御するために、セレクタ (selector)と宣言(declaratum)という 2 つの要素で構成されている。
- セレクタを使って、スタイルを適用する対象の要素を選択。宣言ブロックでは、その要素にどのような スタイルを適用するかを指定。
- ブロックは波括弧{}で囲まれており、1 つ以上の宣言が含まれている。宣言はプロパティと値という 2 つの部分で構成され、セミコロンで区切られます。

## ホワイトスペース

- CSS では HTML と同じく、ホワイトスペースを扱うことが出来る。

## セレクタの種類

### 要素セレクタ

_ノード名を指定し、HTML 上の全ての指定され型の要素を指定。_

### _クラスセレクタ_

- 要素セレクタでは、HTML 上の特定の全ての要素にレイアウトが適用されてしまう。
- 選択した要素のみに CSS 適用したい → クラスセレクタ使え!
- クラスセレクタを要素とリンクさせるためには、要案内の class 要素に値を割り当てる必要あり。 [CSS 上でクラスを選択する場合・クラス名という記法を用いる。
- - クラスセレクタは要素セレクタと組み合わせ可能
- チェーンも可能

### Id セレクタ → クラスセレクタと異なり、id セレクタは他の id セレクタと結合できない。

- クラスセレクタと同様に id 属性の値に基づいて要素を選択することができる。
- CSS 上で d を選択する場合、#id という記法を用いる。
- どのような要素でもクラスの割合は可能だが、原則、同じ id は 1 度しか使わない
- 理由 →JavaScript の ger ElementById()メソッドでブラウザを混乱させるため。

## 属性セレクタ →

- 指定され属性がタグ内に存在するか、または指定された属性の値が基づいてレイアウトを適用できる(href. title など)チェーンも可能

## 全称セレクタ

\*のこと、→ 全ての要素を指定可能

## セレクタのグループ化。

- セレクタは、で区切ることによって、グループを形成することができる。例えば、テキストを赤色にするという装飾を h2 タグ:h3 タグ、P タグに適用する場合は h2,h3.p{color:red} と表記できる。

### CSS は HTML 文書の構造に応じてレイアウト適用

### HTML 木構造として表すことができ、全ての要素は親子関形を持つ

![dom-tree.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/0bfa6d49-a29f-44d3-9cd6-921d2c47add1/3964da68-9707-447e-9ee4-74b7d628fc34/dom-tree.png)

## 子孫セレクタ

- → 単一の空白 →2 つのセレクタを結合し、子孫関係を付与
- 子孫セレクタの場合、子要素の直接の孫要素である必要はない。

### 子孫結合

- _div ul li em の関係_
- 子要素直下にある孫要素を選択する場合に使う。
- P>em →p 直下の em タグ

## 擬似クラス → コロンが使用される。

- 要素の特定の状態に対してレイアウトを指定(幻のクラスに対して レイアウトを指定)
- :hover :link active など
- HTML 要素の特定の位置を選択することも可能。
- 例:first-child→ 兄弟要素の中の一番最初
- :last-child→ 一番最後
- :only-child → 兄弟要素が存在しない要素
- :nth-child → 兄弟関係にある複数の要素を同時選択
- :nth-child(1)=:first-child と同じ
- nth-child(2)=兄弟要素の 2 番目
- :root→HTML 文書の根ノード、つまり html タグを選択する。

## 疑似要素

- 選択された要素の特定の箇所にレイアウトを適用することができる。
- ::ダブルコロンが用いられる。
- 例.p::first-latter →P タグの最初の文字の大きさを変更

### よく使われる組み合わせ

- ::before,::after
- これらの要素を使うと特定の要素の前後にコンテンツが生成できる。

# 詳細度、継承、カスケード

- 同じ要素に複数の方法でレイアウト指定 → 期待した CSS が適用されないなどの問題が発生
- 詳細度 → セレクタがどれほど具体的に選択されるかの尺度
- HTML 上の要素に対して複数の方法で同じルールを適用できる。

### 各セレクタのスコア(高いほど優先される)

- 1000: Style 属性
- 100:id セレクタ
- 10:クラスセレクタ、属性セレクタ、擬似クラス
- 1:要素セレクタと擬似要素

## !important

- 詳細度を無視して、レイアウトを適用できる。
- !important はそれ以外と完全に区別される →1 つのグループとして扱われ、その中で詳細度が計算される。
- 通常の挙動ではなく、CSS のデバックを困難にしてしまうのであまり推奨されていない。

# 継承

- HTML の文書は、その中に含まれる各々の要素をノードとする木構造として表すことができる。
- **CSS の継承**→ プロパティや値が子要素に引き継がれること。
- 全てのプロパティが継承されるわけではない。→( border, padding,margin には継承は適応されない
- 継承を避けるため値として intial を設定することあり。

## カスケード

詳細度が完全に同じ場合、ブラウザは最後にある CSS を優先する。

## \***\*color プロパティ\*\***

- color プロパティを使うと文字の色を指定することが可能

### CSS 上で color プロパティの値は大きく 2 つの種類がある

- 1 つ目は色キーワードで red, blue, lightgray 等、予め CSS で定義されたキーワードを使用すること →CSS で実現したい色が登録されていない場合も
- ここで赤、緑、青のそれぞれを指定する RGB モデルが登場 1 つの方法として、各色をパーセンテージを使って表すやり方。
- 最初は 0%、最大は 100% で色の明度を決定する。CSS では rgb() 関数が組み込まれており、赤、緑、青の順にパーセンテージを指定して色を表現できる。
- rgb() 関数ではパーセンテージと整数を同時に使用することができないため、rgb(40%, 210,5%) のような表現は無効。

## CSS 変数

- CSS では文書全体で値を再利用するため、CSS 変数を利用することができる。例えば、--main-color–-  を  #dcdcdc  で設定し、CSS 上で  **var()  関数**を用いて何度も呼び出すことができます。
- 複雑なウェブサイトを作成する場合、通常ブランドカラーを繰り返し異なる箇所で使用します。他の書き方も可能ですが、識別子を用いた方が可読性が高くなります。
- 以前学習した :root で CSS 変数を宣言することが一般的

## フォント

- CSS の  font-family  プロパティでは、HTML 文書上で使用するフォントを指定することができる。
- font-family  は通常 body 要素に対して指定される。CSS の継承のおかげで、body 要素に設定された CSS は、DOM ツリーの下層に存在する要素まで全てに適用。
- font-family  プロパティでフォントを指定しても、ブラウザでそのフォントがサポートされていなければ期待通りの出力を得ることはできない。このような事態を避けるため、font-famlily  では第一候補, 第二候補のようにコンマで区切って複数のフォントを指定することができます。
- また、指定したフォントが表示されるかどうかはブラウザに依存するため、総称ファミリを常に 1 つ追加しておくことが推奨

### 総称ファミリ

- 標準で搭載されているフォント
- cursive, fantasy, monospace, serif, sans-serif のこと。

### 注意点

- font-family  プロパティは、引用符で囲まれた文字列か、識別子を使うことが推奨。例えば、Times New Roman のようにフォントに空白を含む場合、引用符””を使用します。ブラウザによっては空白を認識し、Times をフォント名として認識してしまうため。
- 同様の理由で、フォント名に # や @ 等の特殊文字が含まれている場合も引用符で囲って文字列として扱うことが推奨。

## フォントの太さ

- font-weight  プロパティを使うとフォントの太さを指定できる。
- font-weight  プロパティは 100,200,300, …, 800, 900 の 9 つの数値、またはキーワード（normal, bold, lighter, bolder）を値として認識する。
- normal は 400、bold は 700 と同じ太さを表現します。
- 使用しているフォントに指定した太さがない場合、機能しない場合あり。このような場合、ブラウザはある一定の規則に基づいて利用可能な太さに数字を決める。
- bolder と lighter は親要素の  font-weight  プロパティから継承した値に基づいて太さを決定。
- 例えば、親要素の  font-weight  プロパティの値が 400 であった場合、bolder を指定すると 700、lighter を指定すると 100 が適用されます。相対的な値を bolder, lighter で計算する場合、100,400,700,900 のみが計算結果として利用されます。

## フォントの大きさ

- 絶対値のキーワードとして xx-small, x-small, small, medium, large, x-large, xx-large が存在します。medium を 16px として、以下の表のように各キーワードの大きさが定められています。

| 値       | サイズ |
| -------- | ------ |
| xx-small | 10px   |
| x-small  | 12px   |
| small    | 14px   |
| medium   | 16px   |
| large    | 19px   |
| x-large  | 24px   |
| xx-large | 32px   |

- 一方、相対値のキーワードとして larger と smaller があり

- CSS を実装する際、px と rem のどちらを選択するか迷う場合
- px は他の要素に依存する相対値ではなく、絶対値であるため、使い方に注意する必要がある。
- 1px は固定された物理的なサイズで、デバイスのスクリーンサイズによってその大きさは変わります。ブラウザによってデフォルトで設定されている根ノードの p タグの  font-size  プロパティの値は異なりますが、通常 16px と設定されています。このデフォルト値が px で問題になる場合があります。
- 例えば、Google Chrome では環境設定 > デザイン > フォントサイズで、ブラウザで表示されるフォントサイズを変更することができます。この設定変更は根ノードの p タグの font-size  プロパティに影響を与えます。つまり、h1 タグを 24px、h2 を 20px のように各要素の大きさを px で設定しておくと、デフォルト値が変更された際に各タグに反映されません。
- 一方、**font-size  プロパティに rem 単位を使用していると、根ノードにどのような変更があったとしても各タグはその変更に対応することができます。**

# text プロパティ

- text-align  プロパティでは、ブロックレベル要素に適用され、その中に含まれるコンテンツの水平方向の位置を決定することができます。
- text-align プロパティでは主にキーワード left, right, center, justify が使用されます。

### justify

- 雑誌や新聞のように各行の幅が均等になるように引き伸ばされ、左右の端揃うように配置されます。
- CSS を実装していると、text-align  プロパティが効かないことがしばしば。特に要素を中央揃えしたい場合にトラブルに逢う傾向。
- text-align  は**ブロック要素内に含まれるインライン要素**に対して適用されます。**ブロック要素を中央揃えする場合は text-align ではなく他のプロパティの使用**が必要になります。

## text の配置方向（垂直）

- vertical-align  プロパティはインライン要素のみに機能し、要素の垂直方向を決定する。
- vertical-align  はキーワード **baseline, sub, super, top, text-top, middle, bottom, text-bottom** またはパーセンテージや px や em のような長さ単位を使って指定することができます。

![vertical-align.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/0bfa6d49-a29f-44d3-9cd6-921d2c47add1/a6af559e-04fa-4bf3-b54f-c0e312e7bd8d/vertical-align.png)

- 例えば、テキスト内で画像を配置した場合、デフォルトでテキストのベースラインに揃う形で画像が表示されました。vertical-align を用いてこの問題を解消することができます
- 。パーセンテージは line-height プロパティに対する % で指定されます。正の数値を指定した場合、要素を上方向に配置し、負の数値を指定した場合、要素を下方向に配置します。px や em を指定した場合も同じように作用します。

## 行間の高さ

- line-height プロパティを使うと、テキストの行間を指定することができます。
- line-height は行とフォントの間に存在する余白の大きさを管理します。**行の高さとフォントの高さは異なるので注意**。

![line-height.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/0bfa6d49-a29f-44d3-9cd6-921d2c47add1/1ea5498c-e76c-49df-a0d6-6081e65c6fc8/line-height.png)

- line-height  プロパティではキーワード normal、数値、長さ、パーセントを値として設定できます。normal は要素のフォントサイズに 1.2 を掛けた値が適用されます。
- **line-height  プロパティの値では単位のないただの数値の使用が好まれる。**normal の時のようにフォントサイズに数値を掛けた値が行間の高さとして指定されます。
- 長さやパーセントを使うと、予期しない結果を生む可能性があり
- em や % を使うと、定義通り  line-height  プロパティは親要素から継承された値で計算されます。
- トラブルを避けるために全ての要素に  line-height  プロパティの値を設定することもできますが、全く実用的ではありません。line-height  プロパティの値を数値に設定することで常に要素のフォントサイズから行間を算出することができます。

# BOX 要素

- ブラウザは文書をレンダリングする際、それぞれの要素を長方形のボックスとして表現します。
- このボックスはコンテンツ領域を中心とし、その周りをパディング（padding）領域、境界（border）領域、マージン（margin）領域によって囲まれています。

![box-model.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/0bfa6d49-a29f-44d3-9cd6-921d2c47add1/1ac76cde-447e-498a-8a93-ba9179cb8cb7/box-model.png)

## コンテンツ

- コンテンツは文字列や画像等の実際のコンテンツが含まれます。領域の大きさは  width  プロパティの値と  height  プロパティの値によって決定されます。width  や  height  はコンテンツのみの大きさであるため、padding  や  margin  を考慮した上でサイズを決定しなければならない点に注意が必要です。
- 例えば、横幅 33% と設定されている場合を考えてみましょう。全ての子要素を横並び 1 列に配置する CSS を適用する場合、予期せぬ結果に遭遇する可能性があります。
- 仮にそれぞれの子要素に padding プロパティや margin プロパティが設定されている場合、
- **要素の横幅 = コンテンツの横幅 + padding + border + margin** となるので、横幅 1 列に配置することはできません。
- このようなトラブルは、width  プロパティと  height  プロパティが利用可能な全ての HTML 要素に対して、デフォルトで  box-sizing  プロパティの値が content-box と設定されている点に起因します。
- content-box ではコンテンツ領域に  width  と  height  が指定されるので、ボックス全体としては  padding, border, margin  が追加されます。
- 一方、box-sizing  プロパティに border-box を指定すると、コンテンツ領域 + padding + border  が要素のサイズとして計算されます。例えば、要素に border-box を指定した状態で、width:100px, padding: 5px, border: 1px  とした場合、ボックスの幅は 100px、コンテンツ領域は 88px と少し縮小された形で表示されます。
- 要素の横幅を計算する際にとても便利なので抑えておきましょう。

## パディング

- ボックスのコンテンツ領域と境界領域の間にある領域のことをパディング領域と呼称する。パディングのサイズを決定するには  padding  プロパティを使用します。padding  プロパティは長さ及びパーセントが指定できます。また、padding  プロパティは 1-4 つの引数を使って指定することができます。

| 引数の数 | 効果                                                   |
| -------- | ------------------------------------------------------ |
| 1        | 全 4 辺に同じ値が適用                                  |
| 2        | 1 つ目の値が上下に、2 つ目の値が左右に適用             |
| 3        | 1 つ目の値が上、2 つ目の値が左右、3 つ目の値が下に適用 |
| 4        | それぞれの値が時計回りに適用                           |

![padding-example.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/0bfa6d49-a29f-44d3-9cd6-921d2c47add1/eb9162bd-aaae-43e2-b7cc-d5c8d4cb14da/padding-example.png)

- デフォルトでは  padding  プロパティが指定されていないため、コンテンツ領域と境域領域は隣合わせになっています。
- また  padding  プロパティを 1 辺にのみに適用させたい場合、padding-left, padding-top, padding-right, padding-bottom  プロパティを使用することができます。
- padding  プロパティでは絶対値の px を使用することはあまり推奨されていません。候補として相対値の em と % が挙げられますが、% を使う際には注意しなければいけません。なぜなら  padding  は指定した要素ではなく、親要素の値に基づいて計算されるからです。
- さらに横幅 500px の親要素の子要素に対して、padding-top: 50%  としたとき、padding-top  は 250px と同様の意味を持ちます。**padding-top  で高さに対して  padding  を指定しているにも関わらず、値は親要素の横幅を基準に算出されます。**
- 一方、font-size プロパティ以外の em 単位は、現在の要素の font-size に対する相対値として定義されました。より安全に padding を設定できる点から em の使用が推奨されます。

## 境界

- ボックスのパディング領域とマージン領域の間にある領域のことを境界領域という。
- 境界に関しては、border  プロパティを使用します。
- 境界は線の幅、色、スタイルの 3 つの側面を持ちます。

### border  プロパティ

- border-style, border-width, border-color  プロパティの値のうち 1-3 個を指定できます。値の順番は関係ありません。

### border-style

- 境界線のスタイルを指定することができます。border-style  プロパティの値として、none, solid, double, groove, ridge, dotted, dashed 等があります。デフォルトは none 。
- padding  プロパティと同様に 1-4 つの値を使って指定することができます。border-style  プロパティを 1 辺にのみに適用させたい場合、border-left-style, border-top-style, border-right-style, border-bottom-style  プロパティを使用することができます。

# background プロパティ

## 背景領域

- コンテンツ領域、パディング領域、境界領域を合わせた領域で構成。
- CSS では要素の背景に色をつけたり、画像を配置したり、グラデーションを記述することができる。
- background プロパティでは、background-attachment, background-clip, background-color, background-image, background-origin, background-position, background-repeat, background-size プロパティの値を一括で指定

## background-color

- background-color プロパティでは要素の背景色を設定。どの要素でも背景色を設定することができ、親要素から子要素への継承は発生しない。

## background-image

- background-image プロパティは値として画像を値として設定可能。
- 画像の指定として、CSS の組み込み関数 url() がよく使われる。引数として絶対 URL または相対 URL を文字列として受け取ります。background-color も同時に指定した場合、background-color は背景画像より下層に配置されます。

## background-position

- background-position プロパティでは、背景画像の初期位置を指定します。値としてキーワード top, bottom, left, right, center、長さ及びパーセントが使用可能。background-position プロパティでは、1-4 つの値を取ることができます。
- キーワードは順不同で水平方向、垂直方向の画像の位置を指定することができます。
- 仮に bottom bottom や right left のような同じ方向のキーワードが指定された場合は無効化されます。また  background-position: top  のように 1 つのキーワードが指定された場合、もう片方のキーワードが center であるとして処理されます
- より正確に位置を指定したい場合、パーセントを使用でき、top left つまり要素の左上端を 0%, 0% として位置が計算されます。例えば、50%,50% を指定した場合、画像は中央に配置されます。25%, 75% を指定した場合、右へ 25% 分動かし、下へ 75% 分動かした位置に配置されます。

## background-repeat

- background-repeat プロパティは背景画像をどのように繰り返すか指定します。background-repeat プロパティはキーワード repeat, space, round, no-repeat, repeat-x, repeat-y を値として受け取ります。この節では一部を紹介します。

# CSS アニメーション

CSS では、ある状態から次の状態へアニメーションを追加できる。
よく出てくるプロパティ

- transform
- Keyframe
- animation

## translate

- transform-translate 　 → 　要素を X 方向、Y 方向に移動できる
- transform-rotate 　 → 　要素を回転可能
- tranform-Scale 　 → 　要素を拡大できる
- tranform-oringin 　 → 　追記することで要素の起点を変更可能

一定時間で変化するアニメーションは transition プロパティを使用する

## keyframe と animation

より細かいアニメーションの実装に使う

keyframe は以下のように記述

```CSS
@keyframe Animation Name {
0% {...}
100% {...}
}
```

- @keyframe では、任意の名前を決めることができ、それを後述する animation プロパティでコントロールすることができる。
- また 0% はアニメーションの開始時を示しており、100% はアニメーションの終了時を意味します。

例：6 秒間で四角い緑の要素が、赤い丸に変化し、ピンクの四角になるアニメーションを実装

```HTML
<div class="box">
</div>
```

```CSS
.box {
   width: 100px;
   height: 100px;
   background-color: yellowgreen;

   /*  keyframe内のアニメーションを呼び出し、6秒間で変化させる */
   animation: box-animation 6s;
}

/*  @keyframesの横でアニメーションの名前を指定 */
@keyframes  box-animation {
   0% {
      background-color: yellowgreen;
   }
   50% {
      background-color: salmon;
      border-radius: 50%;
   }
   100% {
      background-color: pink;
   }
}
```
